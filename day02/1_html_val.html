<!DOCTYPE html>
<html>
 <head>
  <title> new document </title>
  <meta charset="utf-8">
 </head>
 <body>
	<h1>操作元素的内容和值</h1>
	<form action="">
		用户名:<input name="uname">
					<span id="uname-msg"></span><br>
		密码:<input type="password" name="upwd">
					<span id="upwd-msg"></span><br>
		<input type="submit" value="提交注册信息">
	</form>
	<script src="js/jquery-1.11.3.js"></script>
	<script>
    //正确时，使用图片:"<img src='img/ok.png'>"
    //姓名错误时: "<img src='img/err.png'>用户名必须介于3~9位之间!"
    //密码错误时: "<img src='img/err.png'>密码必须介于6~8位之间!"
    //阻止默认行为: e.preventDefault();
    //表单提交: $(form).submit();
	//1.查找触发事件的元素
	//查找input为text的元素
	var $txtName=$("input:text");
	//查找input为password的元素
	var $textPwd=$("input:password");
	//2.绑定事件触发函数
	//封装相同的函数可以共同调用
	function vali($txt,minlen,maxlen,msg){
		//把不同的部分用参数传入的形式传进来
		//第一个参数，文本框的验证内容不同，用户名和密码的验证格式不同
		//用户名和密码错误的提示信息不同
		//3.查找要修改的元素
		//获得当前文本框的下一个兄弟
		var $span=$txt.next();
	    //4.修改元素
		//如果验证当前文本框的内容通过
		if($txt.val().length>=minlen&&$txt.val().length<=maxlen){
		//则修改span的内容为正确的内容
		$span.html("<img src='img/ok.png'>");
		}else{//否则验证不通过
		//则修改span的内容为错误的内容
		$span.html(`<img src='img/err.png'>${msg}`);
		}	
	}
	$txtName.blur(function(){
		vali($(this),3,9,"用户名必须介于3~9位之间!");
	})

	$textPwd.blur(function(){
		vali($(this),6,8,"密码必须介于6~8位之间!");
	})
	</script>
 </body>
</html>
